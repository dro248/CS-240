package server.database;

import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.*;

import shared.model.*;

public class ProjectDAO
{

	Database database;
	
	public ProjectDAO(Database db)
	{
		database = db;
	}
	
	/**
	 * Adds a project to the database.
	 * @param project
	 * @return (boolean) whether or not the project is successfully added to the database.
	 */
	public void addProject(Project project) throws DatabaseException
	{ 
		PreparedStatement stmt = null;
		try
		{     
			String sql = "INSERT INTO Project (title, recordsPerImage, firstYCoord, recordHeight) values (?,?,?,?)";
			
			stmt = database.getConnection().prepareStatement(sql);
			stmt.setString(1, project.getUsername());     
			stmt.setString(2, project.getPassword());     
			stmt.setString(3, project.getFirstname());
			stmt.setString(4, project.getLastname());
			stmt.setString(5, project.getEmail());
			stmt.setInt(6, project.getRecordsIndexed());
			stmt.setInt(7, project.getCurrentBatchID());

			if (stmt.executeUpdate() != 1) 
			{
				throw new DatabaseException("Could not update contact");
			}
		}
		catch (SQLException e) 
		{
			throw new DatabaseException("Could not update contact", e);
		}
		finally 
		{
			Database.safeClose(stmt);
		}
	}
	
	/**
	 * Gets a list of all projects.
	 * @return List of projects
	 */
	public List<Project> getAllProjects()	{ return null; }
	
	/**
	 * Get project by projectID
	 * @param project_id
	 * @return Project
	 */
	public Project getProject(int project_id) { return null; }
	
	
}
